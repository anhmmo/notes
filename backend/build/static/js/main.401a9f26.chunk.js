(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{17:function(t,e,n){t.exports=n(41)},22:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),u=(n(22),n(6)),i=n(1),s=n.n(i),p=n(3),l=n(5);var f=function(t){var e=t.notes,n=t.toggleImportance,a=t.showAll;return r.a.createElement("ul",null,a?e.map((function(t,e){return r.a.createElement("li",{className:"note",key:e},t.content," ",r.a.createElement("button",{onClick:function(){return n(e)}},t.important?"make not important":"make important"))})):e.filter((function(t){return!0===t.important})).map((function(t,e){return r.a.createElement("li",{className:"note",key:e},t.content," ",r.a.createElement("button",{onClick:function(){return n(e)}},t.important?"make not important":"make important"))})))};var m=function(t){var e=t.addNewNote,n=t.onInputChange,a=t.inputValue;return r.a.createElement("form",{onSubmit:e},r.a.createElement("input",{onChange:n,value:a,type:"text"}),r.a.createElement("button",{type:"submit",value:"Submit"},"save"))},v=n(4),d=n.n(v),h={getAll:function(){var t=Object(p.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/notes");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),create:function(){var t=Object(p.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/api/notes",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(p.a)(s.a.mark((function t(e,n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.put("".concat("/api/notes","/").concat(e),n);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};var b=function(){var t=Object(a.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),v=i[0],d=i[1],b=Object(a.useState)(!0),w=Object(l.a)(b,2),E=w[0],k=w[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getAll().catch((function(t){console.log("fail")}));case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var g=function(){var t=Object(p.a)(s.a.mark((function t(e){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a={content:v,date:new Date,important:Math.random()>.5},t.next=4,h.create(a).catch((function(t){alert("cannot create notes")}));case 4:r=t.sent,c(n.concat(r)),d("");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(p.a)(s.a.mark((function t(e){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=++e,a=n.find((function(t){return t.id===e})),console.log(a),r=Object(u.a)(Object(u.a)({},a),{},{important:!a.important}),h.update(e,r).then((function(t){return c(n.map((function(n){return n.id!==e?n:n=t})))})).catch((function(t){console.log("the note '".concat(a.content,"' was already deleted from server")),c(n.filter((function(t){return t.id!==e})))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Notes"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return k(!E)}},"show ",E?"important":"all")),r.a.createElement(f,{notes:n,toggleImportance:j,showAll:E}),r.a.createElement(m,{addNewNote:g,onInputChange:function(t){d(t.target.value)},inputValue:v}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.401a9f26.chunk.js.map